<UserControl
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	x:Class="MyFriends.StoredImageControl"
	x:Name="UserControl"
	Width="50" Height="100">
<!--使用StackPanel进行用户控件的布局-->
	<StackPanel>
        <!--放一个具有白色边框的Border控件-->
   <Border BorderBrush="White" 
           BorderThickness="2" 
           HorizontalAlignment="Center" 
           VerticalAlignment="Center">
       <!--放一个将用于显示原始图像的Image控件-->
      <Image Width="46" Height="46" 
             Stretch="Fill" x:Name="img"></Image>
   </Border>
        <!--创建倒影图片效果-->
   <Border Width="50" Height="50" 
           BorderBrush="White" BorderThickness="2" >
      <Border.Background>
          <!--使用VisualBrush画刷显示倒影图像-->
         <VisualBrush Visual="{Binding ElementName=img}">
            <VisualBrush.Transform>
                <!--对图像进行缩放变换-->
               <ScaleTransform ScaleX="1" ScaleY="-1" 
                               CenterX="50" CenterY="25"></ScaleTransform>
            </VisualBrush.Transform>
         </VisualBrush>
      </Border.Background>
       <!--添加透明遮照效果-->
      <Border.OpacityMask>
          <!--为背景图像添加渐变的透明遮照-->
         <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
            <GradientStop Offset="0" Color="Black"></GradientStop>
            <GradientStop Offset="0.7" Color="Transparent"></GradientStop>
         </LinearGradientBrush>
      </Border.OpacityMask>
   </Border>
</StackPanel>
</UserControl>